This is a programming puzzle called "Strawberry fields". It can be found at http://www.itasoftware.com/careers/work-at-ita/hiring-puzzles.html. This solution is written in C++ on Ubuntu.The answers, output, can be seen in output.txt.